git checkout -b fix/vercel-frontend

# create vercel.json
cat > vercel.json <<'JSON'
{
  "version": 2,
  "builds": [
    { "src": "frontend/package.json", "use": "@vercel/static-build" },
    { "src": "backend/server.py", "use": "@vercel/python" }
  ],
  "routes": [
    { "src": "/api/(.*)", "dest": "/backend/server.py" },
    { "src": "/(.*)", "dest": "/frontend/$1" }
  ]
}
JSON

# create frontend/package.json (will overwrite if exists)
mkdir -p frontend
cat > frontend/package.json <<'JSON'
{
  "name": "final-portfolio-frontend",
  "version": "1.0.0",
  "private": true,
  "engines": {
    "node": ">=16"
  },
  "scripts": {
    "start": "craco start",
    "build": "craco build",
    "test": "craco test --env=jsdom",
    "eject": "react-scripts eject"
  },
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-scripts": "5.0.1",
    "@craco/craco": "^7.0.0"
  }
}
JSON

# create .vercelignore
cat > .vercelignore <<'TXT'
node_modules
frontend/node_modules
backend/.venv
.vscode
.env
*.zip
.git
TXT

# create .gitignore (overwrite existing .gitignore)
cat > .gitignore <<'TXT'
# Node
node_modules
frontend/node_modules

# Build outputs
frontend/build
frontend/dist
frontend/.next

# Python
__pycache__/
*.pyc
.Python
.env
backend/.venv

# Editor / OS
.vscode
.idea
.DS_Store
TXT

# Untrack node_modules if it was committed
git rm -r --cached node_modules || true
git rm -r --cached frontend/node_modules || true

git add vercel.json frontend/package.json .vercelignore .gitignore
git commit -m "vercel: add frontend build config + route API to backend; ignore node_modules"
git push --set-upstream origin fix/vercel-frontend
